<div class="flex justify-between items-center mb-3">
  <h3 class="text-md font-semibold">Staff Lunch Record</h3>
  <div>
    <select class="bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-[9px] dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" (change)="onChangeType($event)">
        <option
              *ngFor="let user of userType; let i = index"
              [selected]="user == type"
              [value]="user"
            >
              {{ user }}
            </option>
    </select>
  </div>
</div>
<div class="p-6 bg-white rounded-lg shadow-md">
  <div class="flex justify-between items-center mb-4">
    <div class="flex gap-7">
      <span
        class="h-8 px-1 cursor-pointer hover:text-[#7e7e7e]"
        [ngClass]="
          currentSelect == 'daily'
            ? 'font-semibold border-b-[3px] border-[#336699]'
            : 'text-gray-400'
        "
        (click)="selectOption('daily')"
        >Daily</span
      >
      <span
        class="h-8 cursor-pointer hover:text-[#7e7e7e]"
        [ngClass]="
          currentSelect == 'monthly'
            ? 'font-semibold border-b-[3px] border-[#336699]'
            : 'text-gray-400'
        "
        (click)="selectOption('monthly')"
        >Monthly</span
      >
      <span
        class="h-8 cursor-pointer hover:text-[#7e7e7e]"
        [ngClass]="
          currentSelect == 'yearly'
            ? 'font-semibold border-b-[3px] border-[#336699]'
            : 'text-gray-400'
        "
        (click)="selectOption('yearly')"
        >Yearly</span
      >
      <span
        class="h-8 cursor-pointer hover:text-[#7e7e7e]"
        [ngClass]="
          currentSelect == 'custom'
            ? 'font-semibold border-b-[3px] border-[#336699]'
            : 'text-gray-400'
        "
        (click)="selectOption('custom')"
        >Custom</span
      >
    </div>
    <form
      (ngSubmit)="getLunchRecord()"
      #dateForm="ngForm"
      class="flex items-center"
    >
      <div id="date-range-picker" class="flex items-center">
        <span
          *ngIf="currentSelect == 'daily'"
          class="mx-2 text-gray-500 text-sm"
          >Select day:</span
        >
        <span
          *ngIf="currentSelect == 'custom'"
          class="mx-2 text-gray-500 text-sm"
          >Select from:</span
        >
        <span
          *ngIf="currentSelect == 'yearly'"
          class="mx-2 text-gray-500 text-sm"
          >Select year:</span
        >
        <span
          *ngIf="currentSelect == 'monthly'"
          class="mx-2 text-gray-500 text-sm"
          >Select month:</span
        >
        <div class="relative" *ngIf="currentSelect == 'monthly'">
          <select
            class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-[9px] dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
            (change)="onChangeMonth($event)"
          >
            <option
              *ngFor="let month of months; let i = index"
              [selected]="monthIndex == i + 1"
              [value]="i + 1"
            >
              {{ month }}
            </option>
          </select>
        </div>
        <div
          *ngIf="
            currentSelect != 'daily' &&
            currentSelect != 'yearly' &&
            currentSelect != 'monthly'
          "
          class="relative"
        >
          <input
            id="datepicker-range-start"
            name="start"
            [(ngModel)]="start"
            type="date"
            class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
            placeholder="Select date start"
          />
        </div>
        <span
          *ngIf="
            currentSelect != 'daily' &&
            currentSelect != 'yearly' &&
            currentSelect != 'monthly'
          "
          class="mx-2 text-gray-500 text-sm"
          >to</span
        >
        <span
          *ngIf="currentSelect == 'monthly'"
          class="mx-2 text-gray-500 text-sm"
          >Select year:</span
        >
        <div
          class="relative"
          *ngIf="currentSelect == 'yearly' || currentSelect == 'monthly'"
        >
          <select
            class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-tl-lg rounded-bl-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
            (change)="onChangeYear($event)"
          >
            <option value="2024">2024</option>
            <option value="2023">2023</option>
            <option value="2022">2022</option>
          </select>
        </div>
        <div
          class="relative"
          *ngIf="currentSelect != 'yearly' && currentSelect != 'monthly'"
        >
          <input
            id="datepicker-range-end"
            name="end"
            [(ngModel)]="end"
            type="date"
            class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-tl-lg rounded-bl-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
            placeholder="Select date end"
          />
        </div>
      </div>
      <button
        type="submit"
        class="px-4 bg-[#336699] text-white rounded-tr-lg rounded-br-lg hover:bg-[#28537e] inline-flex items-center py-2.5"
      >
        <ng-icon name="ionSearch" class="text-white text-lg"></ng-icon>
      </button>
    </form>
  </div>
  <div class="my-8">
    <ag-grid-angular
      style="width: 100%; height: 100vh"
      class="ag-theme-alpine"
      [rowData]="users"
      [columnDefs]="colDefs"
      [pagination]="pagination"
      [paginationPageSize]="paginationPageSize"
      [paginationPageSizeSelector]="paginationPageSizeSelector"
    >
    </ag-grid-angular>
    <span *ngIf="dataNotFound">Data not found</span>
  </div>
</div>
