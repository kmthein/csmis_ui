<div class="calendar-container" id="calendar">
    <div class="calendar-header">
        <div class="prev-button" (click)="goToPreviousMonth()" [ngClass]="{'disabled': isFirstMonth()}">&lt;</div>
        <h1 class="calendar-title">{{ currentMonth | date: 'MMMM yyyy' }}</h1>
        <div class="next-button" (click)="goToNextMonth()" [ngClass]="{'disabled': !isLastWeekOfMonth()}">&gt;</div>
    </div>
    <div class="calendar-body">
        <div class="day-names">
            <div>Sun</div>
            <div>Mon</div>
            <div>Tue</div>
            <div>Wed</div>
            <div>Thu</div>
            <div>Fri</div>
            <div>Sat</div>
        </div>
        <div class="calendar-grid">
            <div class="day" *ngFor="let empty of getEmptyDaysBefore(currentMonth)">
                <div class="empty-day"></div>
            </div>
            <div class="day" *ngFor="let date of currentMonthDates"
                 [ngClass]="{
                   'selected': isDateSelected(date), 
                   'weekend': isWeekend(date), 
                   'today': isBeforeOrToday(date)
                 }"
                 (click)="toggleDate(date)">
                <span>{{ date.getDate() }}</span>
                <input 
                    type="checkbox" 
                    [checked]="isDateSelected(date)" 
                    (change)="toggleDate(date)" 
                    [disabled]="isWeekend(date) || isBeforeOrToday(date)" 
                    style="display: none;">
            </div>
        </div>
    </div>

    <div class="register-box">
        <button class="register-button" (click)="submitRegistration()">Register for Lunch</button>
    </div>
</div>
<!-- Vegan Modal -->
<div *ngIf="showVeganModal" class="modal">
  <div class="modal-content">
    <p>Are you a vegan?</p>
    <div class="vegan-buttons">
      <button (click)="setVegan(true)">Yes</button>
      <button (click)="setVegan(false)">No</button>
    </div>
  </div>
</div>

<!-- Meat Selection Modal -->
<div *ngIf="showMeatModal" class="modal">
  <div class="modal-content">
    <p>Select the meats you avoid:</p>
    <div *ngFor="let meat of meats">
      <input type="checkbox" [value]="meat.id" (change)="toggleMeatSelection(meat)"> {{ meat.name }}
    </div>
    <div class="meat-buttons">
      <button (click)="submitAvoidedMeats()">Save</button>
      <button (click)="closeModal()">Close</button>
    </div>
  </div>
</div>
